Target State

API will be sending JSON messages that contain Resources/Objects and their associated data from FHIR specification.
Data Model will need to support translation between data in transit and data at rest if I capture the data in a different specification.

Phase Approach

Might want to break this up, have a data model for each phase.
Might also want to break up and have different DBs - a data model for the "EMR system" and one for the "model"

Entities:
    Encounter -
    Condition -  might be called Problem in Epic implementation, need to verify.
    Diagnosis -
    Medications -
    Patient -
    Provider - not sure if clinician is same or a child resource of Provider.

    Requests or Triggers - Something to capture the incoming request/trigger event to evaluate sending alert (predictions)
    Predictions -  CDS Hooks response patient-view? service? if a alert should be sent, call this and get the prediction?
    Feedback -  make feedback endpoint for CDS Hooks service, so generated by the request generator web app
                seems to be "by card" so if multiple sent in CDS Hook response, then can get 0 to that number
    ML Models -
    Training Data -
    Test Data -


Relationships


Encounter:
Condition:
Medications:
Request:
Prediction:
    cards
        - info - STRING / text to be shown to user, optionally formatted as markdown or with html markup.
        - suggestions - probably ARRAY? / map the problem list items, encounter diagnosis, meds, procedures, and multi-order sets.
               Contains CREATE actions for Condition resources, specifically Problems or Encounter Diagnosis
Feedback:
    acceptedSuggestions
        - id: STRING / says its a GUID
        - card: STRING / looks like 6-digit int
        - outcome: STRING / in example value is "accepted"
        - outcomeTimestamp: STRING / looks like a UTC timestamp
    overridenCard
        - card: STRING / see above
        - outcome: STRING / see above
        - outcomeTimestamp: STRING / see above
        - overrideReasons: ARRAY
            - reason: ARRAY / guess these 3 things make a "reason"
            - code: STRING / must be a valid value list somewhere
            - display: STRING / vv list somewhere
            - system: STRING / looks like URL to valid value lists
            - userComment: STRING / seems like size would be limited by bis/dev choice, so could be large
